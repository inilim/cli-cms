# CLI-CMS Project Brief

## Project Overview
CLI-CMS - это минималистичная система управления содержимым (CMS), которая работает без веб-сервера. Все эндпоинты запускаются через командную строку (CLI). Основная точка входа в приложение - файл index.php. Система использует архитектурный подход, близкий к MVC паттерну, с использованием DI-контейнера для управления зависимостями.

## Core Features
- Работа исключительно через CLI (без веб-сервера)
- Использование PHP 8.4 в качестве основного языка программирования
- Использование SQLite в качестве СУБД
- Кроссплатформенная совместимость (разработка на Windows, запуск на Ubuntu)
- Поддержка структурированного контента в формате JSON (например, Editor.js)
- Шаблонизация через Twig для генерации HTML-контента в CLI-приложении

## Technology Stack
- Язык программирования: PHP 8.4
- База данных: SQLite
- Архитектура: близкая к MVC с DI-контейнером
- Фреймворки: не используются, только простые библиотеки из composer.json
- Нативный PHP код с минимальным использованием сторонних решений
- Зависимости: inilim/tools, inilim/ipdo, inilim/env, inilim/di, twig/twig

## Architecture
- Архитектурный подход: близкий к MVC паттерну с использованием DI-контейнера
- Организация кода: структурированная с использованием пространств имен
- Точка входа: index.php → boot.php
- Обработка запросов: через CLI-интерфейс
- Шаблонизация: Twig 3.x через TwigRenderService

## Project Structure
- src/ - основной каталог с исходным кодом
- src/Bind/ - компоненты привязки (связывания)
- src/Controller/ - контроллеры приложения
- src/Entity/ - сущности приложения
- src/Enum/ - перечисления
- src/Exception/ - исключения
- src/Repository/ - репозитории для работы с данными
- src/Service/ - сервисы приложения
- files/ - директория для хранения данных (база данных, логи, шаблоны)
- files/db/ - место хранения SQLite базы данных
- files/templates/ - шаблоны для Twig
- files/cache/ - директория для кэширования (включая twig/)

## Development Environment
- Разработка: Windows OS
- Эксплуатация: Ubuntu OS
- Управление зависимостями: Composer
- Контроль версий: Git

## Class Naming Conventions

- Имена классов пишутся в **PascalCase** (UpperCamelCase): `UserService`, `OrderController`.
- Суффиксы/префиксы по типу класса обязательны и единообразны:
  - Контроллеры: `*Controller` (например, `UserController`).
  - Исключения: `*Exception` (например, `ValidationException`).
  - Перечисления: `*Enum` (например, `StatusEnum`).
  - Репозиторий: `*Repository` (например, `RecordRepository`).
- Абстрактные/базовые классы явно помечаются: `*Abstract`.

## Visibility rules (PHP)

- Не использовать приватную инкапсуляцию: ключевое слово `private` запрещено для свойств, методов и констант.
- Вместо `private` всегда использовать `protected`, чтобы обеспечить расширяемость и переиспользование в наследниках.
- Для публичных методов требуется опускать модификатор доступа: если метод публичный, ключевое слово `public` можно не указывать.