# CLI-CMS Technologies

## Core Technologies
- PHP 8.4 - основной язык программирования
- SQLite - СУБД для хранения данных
- Composer - менеджер зависимостей

## External Dependencies
- `inilim/tools` - коллекция вспомогательных утилит
- `inilim/ipdo` - обертка для работы с PDO и SQLite
- `inilim/env` - работа с конфигурациями и переменными окружения
- `inilim/di` - контейнер для внедрения зависимостей
- `twig/twig` - шаблонизатор (используется для генерации HTML-контента)

## Development Environment
- Разработка: Windows OS
- Эксплуатация: Ubuntu OS
- IDE: VSCode
- Система контроля версий: Git

## Architecture Technologies
- PSR-4 автозагрузка классов
- Dependency Injection Container
- MVC-подобная архитектура
- Репозиторный паттерн для работы с данными
- Twig шаблонизация для генерации контента

## Logging & Error Handling
- Собственная система логирования в JSON-формате
- Централизованный обработчик ошибок
- Поддержка различных уровней ошибок (E_DEPRECATED, E_NOTICE и др.)

## File Structure
- `src/` - исходный код с пространствами имен
- `src/Service/` - сервисы приложения
- `src/Controller/` - контроллеры приложения
- `src/Entity/` - сущности приложения
- `src/Entity/Attribute/` - атрибуты для сущностей
- `src/Enum/` - перечисления (пустая директория на данный момент)
- `src/Exception/` - исключения
- `src/Repository/` - репозитории для работы с данными
- `files/` - директория для хранения данных (база данных, логи, шаблоны)
- `files/templates/` - шаблоны для Twig (включая подкаталоги blocks/ и styles/)
- `files/cache/` - директория для кэширования (включая twig/)
- `files/db/` - место хранения SQLite базы данных
- `files/sql/` - SQL-скрипты для создания таблиц
- `files/other/examples/` - примеры структурированного контента
- `vendor/` - зависимости Composer
- `config.php` - файл конфигурации

## Key Technical Features
- Кроссплатформенная совместимость
- Работа исключительно через CLI
- Поддержка специфичных функций SQLite (CRC_32, UNIX_MS)
- Минималистичный подход без использования тяжелых фреймворков
- Шаблонизация через Twig для генерации HTML-контента в CLI-приложении
- Интеграция с DI-контейнером для внедрения зависимостей
- Поддержка структурированного контента в формате Editor.js
- Автоматическая обработка JSON-блока контента в шаблоны Twig
- Использование абстрактных классов для контроллеров и репозиториев
- Поддержка пользовательских функций в базе данных через FillFnForDbService
- Использование модификатора `protected(set)` для свойств сущностей
- Автоматическая обработка различных типов блоков (заголовки, параграфы, списки, цитаты, код и др.)
- Поддержка кэширования шаблонов Twig для производительности
- Поддержка вложенных шаблонов для различных типов блоков контента
- Использование глобальных функций `DI()` и `DITag()` для получения зависимостей из DI-контейнера
- Поддержка UUIDv7 в качестве идентификаторов записей
- Поддержка динамических свойств в сущностях через DynamicEntityAbstract
- Использование атрибута AdditionallyAttr для пометки дополнительных свойств сущностей
- Поддержка связей между сущностями (например, запись-категория)
- Использование методов setProp/removeProps для работы с динамическими свойствами
